<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager - DATALAYER -->
    <script type="application/javascript">
    window.dataLayer = window.dataLayer || [];
    </script>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MFNPQ7K');</script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="Description" content="The OCHA HDX Ukraine data explorer brings together data from multiple partners on the humanitarian impact following the Russian Federation military offensive on 24 February 2022.">
    <title>Ukraine Data Explorer</title>
    <meta name='viewport' content='width=device-width, initial-scale=1' />
    <meta property="og:title" content="Ukraine Data Explorer">
    <meta property="og:type" content="website">
    <meta property="og:description" content="The OCHA HDX Ukraine data explorer brings together data from multiple partners on the humanitarian impact following the Russian Federation military offensive on 24 February 2022.">
    <meta property="og:image" content="https://ocha-dap.github.io/viz-ukraine-humanitarian-operations/assets/preview-thumb.png" />
    <link rel='icon' type='image/png' href='https://data.humdata.org/images/icons/hdx.ico' />
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css"/>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.css" rel="stylesheet" />
    <link href='css/styles.css' rel='stylesheet' />
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3-legend.susielu.com/d3-legend.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.11/c3.min.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.10.1/mapbox-gl.js"></script>
    <script src="https://momentjs.com/downloads/moment.min.js"></script>
    <script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>
    <script src="https://kit.fontawesome.com/39e5643f1a.js" crossorigin="anonymous"></script>
  </head>

  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MFNPQ7K"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div class='mobile-message'>
      <div class='mobile-close-btn'><i class='humanitarianicons-Exit-Cancel'></i></div>
      <div class='message'>
        <h4>This dashboard is best viewed on a desktop</h4>
      </div>
    </div>

    <main>
      
      <div class='content country-view'>
        <div class='content-left'></div>
        <div class='content-right'>

          <div class="tab-menubar">
            <div class="tab-button active" data-id="map-view">Map View</div>
            <div class="tab-button" data-id="chart-view">Chart View</div>
          </div>
          <div id='global-map'>
            <div class='map-legend country'>
              <div class='toggle-icon'></div>
              <h4 class='collapsed-title'>MAP LEGEND</h4>
              <h4 class='indicator-title'>MAP DATA LAYER</h4>
              <label>Humanitarian Operations<input checked='true' name='countryIndicators' type='radio' value='#org+count+num' id='orgs' data-legend='Number of Humanitarian Organizations Present' data-layer='humanitarian_operations'></label>
              <div class='source-container orgs-source'></div>
              
              <label>People in Need<input name='countryIndicators' type='radio' value='#affected+inneed+total' id='pin' data-legend='People in Need' data-layer='people_in_need'></label>
              <div class="source-container pin-source"></div>
              
              <label>IDP Estimates<input name='countryIndicators' type='radio' value='#affected+idps' id='idps' data-legend='Estimated Number of Internally Displaced People' data-layer='idp_estimates'></label>
              <div class="source-container idp-source"></div>

              <label>Conflict Events<input name='countryIndicators' type='radio' value='#acled+events' id='acled' data-legend='Conflict Event Types' data-layer='conflict_events'></label>
              <div class="source-container acled-source"></div>

              <label>Population<input name='countryIndicators' type='radio' value='#population' id='population' data-legend='Population Density (people per sq km)' data-layer='population'></label>
              <div class='source-container population-source'></div>

              <label>Health Facilities<input name='countryIndicators' type='radio' value='#loc+count+health' id='healthFacilities' data-legend='Number of Health Facilities' data-layer='health-facilities'></label>
              <div class='source-container health-facilities-source'></div>

              <hr>
              <h4 class='indicator-title'>MAP LEGEND</h4>
              <h4 class='legend-title'></h4>
              <div class='legend-scale'></div>

              <div class='legend-marker hostilities'>
                <div class='marker'><img src='assets/marker-hostility.svg' /></div>
                <div>
                  <label>Hostilities</label>
                  <div class='source-container hostilities-source'></div>
                </div>
              </div>

              <div class='legend-marker refugees'>
                <div class='marker'><img src='assets/marker-legend-arrow.png' /></div>
                <div>
                  <label>Number of Refugees from Ukraine</label>
                  <div class='source-container refugee-arrivals-source'></div>
                </div>
              </div>

              <div class='legend-marker border-crossing'>
                <div class='marker'><img src='assets/marker-border-crossing.png' /></div>
                <div>
                  <label>International Border Crossing</label>
                  <div class="source-container border-crossing-source"></div>
                </div>
              </div>

            </div>
            <div class='legend-gradient'></div>
          </div>
          <div id="static-map"></div>

          <div id='chart-view'>
            <div class='source-container'></div>
            <div class='trendseries-container'>
              <select id='trendseriesSelect' class='trendseries-select'></select>
              <div class='trendseries-title'></div>
              <div class='trendseries-chart'></div>
            </div>
          </div>

          <div class='loader'>
            <div class="sp sp-circle"></div>
            <span>Loading data...</span>
          </div>
        </div>

        <div class='country-panel'>
          <div class='org-logo'>
            <a href='https://www.unocha.org' target='_blank' rel='noopener'>
              <img width='100' src='assets/logo-ocha-blue.png' alt='OCHA logo'>
            </a>
            <a href='https://data.humdata.org' target='_blank' rel='noopener'>
              <img width='100' src='assets/logo-hdx.svg' alt='HDX logo'>
            </a>
          </div>

          <div class='panel-header'>
            <div class='panel-title'>
              <img src="assets/flags/UKR.png" class='flag' alt='country flag' />
              <h3>Ukraine Data Explorer</h3>
            </div>
          </div>
          <div class='panel-content'>
            <div class='grain'>
              <h5>Black Sea Grain Initiative</h5>
              <div class='panel-inner'></div>
            </div>
            <div class='hum-impact'>
              <h5>Humanitarian Impact</h5>
              <div class='panel-inner'></div>
            </div>
            <div class='refugees-timeseries'>
              <div class='panel-inner country-timeseries-chart'></div>
            </div>
            <div class='funding'>
              <h5>2022 Funding</h5>
              <div class='panel-inner'></div>
            </div>
          </div>

          <div class='panel-tooltip'>
            <div class='tooltip-arrow'></div>
            <div class='tooltip-inner'></div>
          </div>
        </div>

      </div>
    </main>

    <!-- start Mixpanel -->
    <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
      0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
      for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
    </script>
    <!-- End Mixpanel -->
    <script type='text/javascript' src='js/bundle.min.js'></script>
  </body>
</html>
